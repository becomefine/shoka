---
title: 第二章
date: 2022-05-25 10:14:02
categories:
 - [大数据,离散系统]
tags: 
 - 大数据
 - 离散系统
---

# 理论模型建模方法

实体流图法以临时实体产生、流动、消亡及其经历永久实体服务的过程为主线，建立系统的工作流程和实体之间的逻辑关系，具有简便易行的特点，是一种最基本的建模方法。
活动周期图法针对实体的行为模型和活动逻辑进行建模，可以直观地表示各类实体在其生命周期中的活动和状况变化，清晰地描述实体之间的关系。
Petri网方法严密规范，借助数学方法对系统中发生的并发、冲突和死锁等现象进行分析。
Euler网方法同时具备活动周期图和Petri网方法的基本特点，在连续与离散事件混合系统建模方面比较强。

## 基本概念

实体是构成系统的可单独辨识和描述的功能单元。例如工厂中的机器、商店中的服务员、生产线上的设备和工件、道路上的车辆等。属性和行为相同或相近的实体，建模时可以归为同一类来描述，以简化系统的组成和内在联系。
选取实体特征原则：
1、便于实体的分类
2、便于实体行为的描述
3、便于实体处理规则的确定

## 实体流图
临时实体：按一定规律由系统外部到达系统，按照一定的流程在系统中活动，接收永久实体的服务，最后离开系统。
永久实体：永久驻留在系统中的实体，产生协同活动进而完成系统功能的必要条件。

例：理发店服务系统

![hair](/assets/big-data/decrete-modeling/figure3-2.png)
:::default no-icon
临时实体：永久实体
顾客：临时实体
理发员活动：理发和休息，对应“忙”和“闲”两种状态。
顾客：“等待服务”和“接受服务”两种状态。
:::

## 活动周期图法

活动周期图以直观的方式显示实体的状态变化历程和各实体之间的交互作用关系，便于理解和分析。活动周期图可以充分反映各类实体的行为模式，并将系统的状态变化以“个体”状态变化的集合方式表示出来，因此可以更好地表达众多实体的并发活动和实体之间的协同。

### 活动周期图

实体状态分为静寂(dead)和激活(active)两种类型，并分别用相应的符号予以表示，状态之间用箭头线相连，不同的实体采用不同的线性，表示各种实体的状态变化历程。
![hair](/assets/big-data/decrete-modeling/figure3-7.png)
建模方法：
1. 辨识组成系统的实体及其属性
2. 分析各类实体的活动和状态，确定实体状态的类型(激活或静寂)，分析实体状态变化的顺序关系。
3. 根据实体的状态分别画出各实体的活动周期图。
- 交替原则
- 闭合原则
4. 将各实体的活动周期图连接成系统活动周期图
5. 增加必要的虚拟实体
6. 表明活动发生的约束条件和占用资源的数量。
7. 给出模型参数的取值、参变量的计算方法及属性描述变量的取值方法，并给出排队规则和服务原则。

## Petri网方法

对活动周期图做出如下改变：
1、取消临时实体ACD中的“源”状态，将ACD图改成非闭合图，即不在考虑临时实体的生命周期循环。
2、将活动看作是“开始事件+状态+结束事件”的组合，建模的元素变成“事件”和“状态”，后者包括ACD中的激活状态和静寂状态。
3、不强调实体模型之间的独立性。

定义：
三元组$N=(S, T; F)$称为Petri网的充要条件是：
1. $S \cup T \neq \empty$
2. $S \cap T = \empty $
3. $F \subseteq S \times T \cup T \times S$
4. $dom(F) \cup cod(F) = S \cup T$

由1和2，Petri网由S和T两类不同的元素组成，其中S称为N的库所集，T称为变迁集。条件3表明，F是由一个s元素和一个T元素组成的有序偶的集合；F称为N的流关系。条件4中，$dom(F)$是$F$所含有序偶的第一个元素的集合，$cod(F)$则是第二个元素的集合。
$$
dom(F)={x| \exist y: (x,y) \in F}
dom(F)={x| \exist y: (y,x) \in F}
$$
条件4表明，N不能有孤立元素，从而S，T和F均不能为空集。Petri网又称有向网，简称网。$X=S \cup T$称为$N$的元素集。

定义：元素的输入集和输出集
设$x \in X$为网$N(S, T; F)$的一个元素，另$^{\cdot}x = {y|(y,x)\in F}、x^{\cdot}={y|(x,y) \in F}$, 则$^{\cdot}x$称为$x$的输入集或前集，$x^{\cdot}$称为x的输出集或后集。
Petri网的标准图形表示是用圆圈代表库所，用方框或竖线表示变迁，用从x到y的有向弧表示序偶$(x,y)$。如果$(x,y)$是从$x$到$y$的有向弧，就称$x$是$y$的输入，$y$是$x$的输出。

Petri网建模的基本步骤：
1. 辨明系统中的实体及其属性，
2. 分析确定各类实体的活动和状态，以及各个活动发生和结束对应的事件，同时分析状态和事件的逻辑顺序关系。
3. 将实体的状态作为库所，将事件作为变迁。根据状态和事件的顺序关系，按照库所和变迁相互交替的原则，画出系统的Petri网模型。
4. 模型参数和属性描述变量根据网系统的特性确定。


